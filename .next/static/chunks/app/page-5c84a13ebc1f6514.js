(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{118:(e,r,a)=>{Promise.resolve().then(a.bind(a,7396))},3870:(e,r,a)=>{"use strict";a.d(r,{DF:()=>c,mD:()=>d,sw:()=>t,tG:()=>o});var s=a(9267);let l=a(5125).A.create({baseURL:"http://localhost:3000/api/cards",headers:{Accept:"*/*"}});class n{}n.fetchAllArchenemyCards=async()=>await l.post("/archenemy").then(e=>{let{data:r}=e;return r}).catch(e=>console.log("e",e));let o=(0,s.zD)("cards/fetchAllArchenemyCards",async()=>await n.fetchAllArchenemyCards().then(e=>(console.log("in the action",e),e)).catch(e=>{})),d=(0,s.Z0)({name:"cards",initialState:{currentCard:{},cardPool:[],ongoingCards:[],previousCards:[]},reducers:{chooseSingleCard(e){console.log("cardpool length",e.cardPool.length);let r=e.cardPool.splice(Math.floor(e.cardPool.length*Math.random()),1);"ongoing scheme"===e.currentCard.type_line.toLowerCase()?e.ongoingCards.push(e.currentCard):e.previousCards.push(e.currentCard),e.currentCard=r[0]},abandonScheme(e,r){let a=r.payload.index;console.log("index",a);let s=e.ongoingCards[a];console.log("card",s),e.previousCards.push(s),e.ongoingCards.splice(a,1)}},extraReducers:e=>{e.addCase(o.fulfilled,(e,r)=>{console.log("payload",r.payload),e.cardPool=r.payload.data,e.currentCard=r.payload.data[0]})}}),{chooseSingleCard:t,abandonScheme:c}=d.actions},7396:(e,r,a)=>{"use strict";a.d(r,{default:()=>p});var s=a(5155),l=a(2115),n=a(2104),o=a(3967),d=a(2660);let t=e=>{let{imageUrl:r,buttonText:a,onButtonClick:l}=e;return(0,s.jsxs)(n.Z,{style:{width:357,height:700},children:[(0,s.jsx)(n.Z.Section,{children:(0,s.jsx)(o._,{src:r,alt:"Card Image",style:{maxWidth:"100%"}})}),a&&l&&(0,s.jsx)(d.$,{size:"small",mt:"md",fullWidth:!0,onClick:l,children:a})]})};var c=a(7818),i=a(2369),h=a(1616),u=a(4264),g=a(1213),m=a(3870),C=a(110);let p=()=>{var e;let r=(0,g.wA)(),a=(0,g.d4)(e=>e.cards.currentCard),n=(0,g.d4)(e=>e.cards.previousCards),p=(0,g.d4)(e=>e.cards.ongoingCards);return(0,l.useEffect)(()=>{r((0,m.tG)())},[]),(0,l.useEffect)(()=>{console.log("currentCard",a)},[a]),(0,s.jsxs)(c.x,{children:[(0,s.jsxs)(c.x.Col,{span:4,children:[(0,s.jsx)(o._,{src:null==(e=a.image_uris)?void 0:e.normal}),(0,s.jsxs)(d.$,{mt:"md",onClick:()=>r((0,m.sw)()),children:["Play ",n.length>0?"New":"A"," Scheme"]})]}),(0,s.jsx)(c.x.Col,{span:8,children:(0,s.jsxs)(i.B,{children:[(0,s.jsxs)(h.a,{children:[(0,s.jsx)(u.h,{order:3,children:"Ongoing Schemes"}),p.map((e,a)=>{var l;return(0,s.jsx)(t,{imageUrl:null==(l=e.image_uris)?void 0:l.normal,buttonText:"Abandon Scheme",onButtonClick:()=>r((0,m.DF)({index:a}))},e.id)})]}),(0,s.jsx)(h.a,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)(u.h,{order:3,children:"Previous Schemes"}),(0,s.jsx)(C.F,{slideSize:"200px",slideGap:"none",controlsOffset:"sm",controlSize:26,withControls:!0,withIndicators:!1,orientation:"horizontal",children:n.map(e=>{var r;return(0,s.jsx)(C.F.Slide,{children:(0,s.jsx)(t,{imageUrl:null==(r=e.image_uris)?void 0:r.normal})},e.id)})})]})})]})})]})}}},e=>{e.O(0,[282,786,441,255,358],()=>e(e.s=118)),_N_E=e.O()}]);